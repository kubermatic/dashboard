<kubermatic-progress [step]="currentStep" (syncStep)="gotoStep($event)"></kubermatic-progress>

<!-- Cluster Name: Step 1 -->
<kubermatic-cluster-name *ngIf="currentStep == 0" (syncName)="setClusterName($event)" [clusterName]="clusterName"></kubermatic-cluster-name>

<!-- Start Select Provider: Step 2 -->
<ng-container *ngIf="currentStep == 1">
  <md-card>
    <md-card-header>
      <md-card-title>
      <h4>Select the cloud provider for your nodes</h4>
      </md-card-title>
    </md-card-header>
    <md-card-content>
      <p>This is the cloud provider the Kubernetes nodes are deployed in by Kubermatic.
      Your nodes can be placed in any cloud you like, but for performance reasons as near to the master as possible.
      </p>

      <div fxLayoutAlign="center" fxLayout="row"  fxLayout.sm="column" fxLayout.xs="column" fxLayoutGap="20px">
        <ng-container *ngFor="let cloud of supportedNodeProviders; let i = index;">
        <div *ngIf="groupedDatacenters[cloud]"
           fxFlex="150px"
           fxLayoutAlign="center center"
           class="wizard-box-provider"
           [ngClass]="{'selected': selectedCloud === cloud, 'wizard-box-color_primary': i % 2 === 0, 'wizard-box-color_secondary': i % 2 !== 0}"
           (click)="selectCloud(cloud)">
              <div class="wizard-box-content">
                <img class="cloud-logo" src="/assets/images/clouds/{{cloud}}.png" alt="{{cloud}}">
              </div>
        </div>
        </ng-container>
      </div>
    </md-card-content>
  </md-card>
</ng-container>
<!-- Ende Select Provider: Step 2 -->

<!-- Start Select Datacenter: Step 3 Default -->
<ng-container *ngIf="currentStep == 2 && selectedCloud !== 'bringyourown'">
  <md-card>
    <md-card-header>
      <md-card-title>
        <h4>Select the datacenter of your cloud provider</h4>
      </md-card-title>
    </md-card-header>
    <md-card-content>
      <p>This is the cloud provider the Kubernetes nodes are deployed in by Kubermatic.
      Your nodes can be placed in any cloud you like, but for performance reasons as near to the master as possible.</p>
      <div fxLayout="row wrap">
        <div class="wizard-box" fxFlex="100px" *ngFor="let dc of groupedDatacenters[selectedCloud]; let i = index;"
            [ngClass]="{'selected': !!selectedCloudRegion && selectedCloudRegion.metadata.name === dc.metadata.name, 'wizard-box-color_primary': i % 2 === 0, 'wizard-box-color_secondary': i % 2 !== 0}"
            (click)="selectCloudRegion(dc)">
        <div class="wizard-box-content">
          <img class="location-flag" src="/assets/images/flags/48/{{dc.spec.country}}.png" alt="{{dc.spec.country}}" />
          <div class="location">
            {{dc.spec.location}}
          </div>
        </div>
      </div>
      </div>
    </md-card-content>
  </md-card>
</ng-container>
<!-- End Select Datacenter: Step 3 Default -->

<!-- Start Provider Settings: Step 4 Amazon Weg Service -->
<ng-container *ngIf="currentStep == 3">
  <ng-container *ngIf="selectedCloud == 'aws' || selectedCloud == 'openstack' || selectedCloud == 'digitalocean'">
    <div   fxLayout="row"
           fxLayout.md="column"
           fxLayout.sm="column"
           fxLayout.xs="column"
           fxLayoutGap="20px" >
      <md-card fxFlex>
        <md-card-header>
          <md-card-title>
            <h4>
              Provide credentials
            </h4>
          </md-card-title>
        </md-card-header>
        <md-card-content>
          <kubermatic-provider-cluster [provider]="selectedCloud" (syncCloudSpec)="setCloud($event)" ></kubermatic-provider-cluster>
          <kubermatic-ssh-key-form-field [sshKeysFormField]="sshKeysFormField" [provider]="selectedCloud"></kubermatic-ssh-key-form-field>
        </md-card-content>
      </md-card>
      <md-card  fxFlex>
        <md-card-header>
          <md-card-title>
            <h4>
              Node settings
            </h4>
          </md-card-title>
        </md-card-header>
        <md-card-content fxLayout="column">
          <kubermatic-provider-node [provider]="selectedCloud" [token]="'114a1c82fde0fbadba446f9c852211034e0094e3c7d0b0d96c62a07aaf023448'" (syncNodeModel)="setNode($event)"> </kubermatic-provider-node>
        </md-card-content>
      </md-card>
    </div>
  </ng-container>
</ng-container>
<!-- End Provider Settings: Step 4 Amazon Weg Service -->


<!-- Provider Summary: Step 5 -->
<kubermatic-summary *ngIf="currentStep == 4" [cloud]="selectedCloud" [region]="selectedCloudRegion" [sshKeys]="ssh_keys" [clusterSpec]="clusterSpec" [cloudSpec]="getCloudSpec" [nodeSpec]="createNodeModel" (syncStep)="gotoStep($event)"></kubermatic-summary>

<!-- Navigation Buttons -->
<kubermatic-navigation-buttons [step]="currentStep" [nextStep]="canGotoStep(currentStep)" (syncStep)="gotoStep($event)"></kubermatic-navigation-buttons>
