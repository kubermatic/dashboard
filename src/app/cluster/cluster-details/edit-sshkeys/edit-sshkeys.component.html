<div class="km-dialog-box">
  <km-dialog-title title="Manage SSH Keys in the Cluster"></km-dialog-title>
  <mat-dialog-content class="km-content-edit-sshkeys">
    <div class="mat-dialog-content">

      <div *ngIf="!loading">
        <div fxLayout>
          <div fxFlex
               align="right">
            <button mat-flat-button
                    type="button"
                    (click)="addSshKey()"
                    [disabled]="!!userGroup && !userGroupConfig[userGroup].sshKeys.create">
              <span class="btn-text-default">Add SSH Key</span>
            </button>
          </div>
        </div>

        <mat-card class="blue km-sshkey-view">
          <mat-card-header>
            <mat-card-title fxLayout
                            matSort
                            (matSortChange)="sortSshKeyData($event)"
                            matSortActive="name"
                            matSortDirection="asc">
              <div fxFlex="90%"
                   fxFlex.xs="40%"
                   mat-sort-header="name">
                <strong>SSH Keys</strong>
              </div>
              <div fxFlex="10%"
                   fxHide.sm
                   fxHide.xs>
                <strong></strong>
              </div>
            </mat-card-title>
          </mat-card-header>

          <mat-card-content fxLayout="column"
                            [ngSwitch]="!!sshKeys && sshKeys.length > 0 ">
            <ng-container *ngSwitchCase="true">
              <kubermatic-edit-sshkeys-item *ngFor="let sshKey of sortedSshKeys; let iSSHKey = index; trackBy: trackSshKey"
                                            [index]="iSSHKey"
                                            [sshKey]="sshKey"
                                            [projectID]="projectID"
                                            [cluster]="cluster"
                                            [datacenter]="datacenter"
                                            fxFlex></kubermatic-edit-sshkeys-item>
            </ng-container>

            <ng-container *ngSwitchCase="false">
              <div fxFlex
                   class="km-row km-odd km-no-item">No SSHKey available. Please add a SSHKey.</div>
            </ng-container>
          </mat-card-content>
        </mat-card>
      </div>
      <div *ngIf="loading">
        <mat-spinner color="accent"
                     class="km-spinner"></mat-spinner>
      </div>

    </div>
  </mat-dialog-content>

  <mat-dialog-actions>
    <button mat-dialog-close
            mat-flat-button
            color="tertiary">
      Close
    </button>
  </mat-dialog-actions>
</div>
