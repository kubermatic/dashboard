<form [formGroup]="deleteForm"
      id="km-delete-cluster-dialog"
      class="km-dialog-box"
      (keydown.enter)="deleteCluster()">
  <km-dialog-title title="Delete Cluster"></km-dialog-title>

  <mat-dialog-content>
    <p>You are on the way to delete the cluster {{cluster.name}}. It cannot be undone!</p>

    <div class="km-delete-cluster-checkbox">
      <label fxFlex>Cleanup connected Load Balancers</label>
      <mat-checkbox fxFlex
                    formControlName="clusterLBCleanupCheckbox"></mat-checkbox>
    </div>

    <div class="km-delete-cluster-checkbox">
      <label fxFlex>Cleanup connected volumes (PVs and PVCs)</label>
      <mat-checkbox fxFlex
                    formControlName="clusterVolumeCleanupCheckbox"></mat-checkbox>
    </div>

    <div class="km-delete-cluster-warning">
      <mat-icon fxFlexAlign="center">warning</mat-icon>
      <span>
        Not selecting above options might leave some leftover resources at your cloud provider after cluster deletion.
      </span>
    </div>

    <mat-form-field>
      <mat-label>Cluster Name*</mat-label>
      <input id="km-delete-cluster-dialog-input"
             matInput
             type="text"
             title="Cluster name"
             (blur)="onChange($event)"
             (keyup)="onChange($event)"
             #clusterNameInput>
    </mat-form-field>
  </mat-dialog-content>
  <mat-dialog-actions>
    <button id="km-delete-cluster-dialog-delete-btn"
            (click)="deleteCluster()"
            mat-dialog-close
            mat-flat-button
            [disabled]="!inputNameMatches()">
      Delete
    </button>
  </mat-dialog-actions>
</form>
