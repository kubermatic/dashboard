<div *ngIf="!isThemeEnforced"
     fxLayout="row"
     id="km-theme-picker">
  <div class="entry-label"
       fxLayoutAlign=" center">Theme</div>
  <mat-button-toggle-group [(value)]="selectedThemeOption"
                           (change)="onThemeChange($event.value)"
                           class="toggle-button"
                           fxLayout="row wrap">
    <mat-button-toggle *ngIf="hasPreferredTheme"
                       [value]="systemDefaultOption">
      <i class="km-icon-mask"
         [ngClass]="isSystemDefaultThemeDark ? 'km-icon-moon' : 'km-icon-sun'"></i>
      <span>System</span>
    </mat-button-toggle>
    <mat-button-toggle *ngFor="let theme of themes"
                       [value]="theme.name">
      <i class="km-icon-mask"
         [id]="theme.name"
         [ngClass]="theme.isDark ? 'km-icon-moon' : 'km-icon-sun'"></i>
      {{theme.displayName}}
    </mat-button-toggle>
  </mat-button-toggle-group>
  <km-spinner-with-confirmation [isSaved]="isEqual(settings?.selectedTheme, apiSettings?.selectedTheme)"></km-spinner-with-confirmation>
</div>
