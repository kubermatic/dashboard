<main>
  <div>
    <div class="km-progress-bar-container">
      <mat-progress-bar id="km-top-progress-bar"
                        mode="indeterminate"></mat-progress-bar>
    </div>
    <km-navigation [showMenuSwitchAndProjectSelector]="showMenuSwitchAndProjectSelector"></km-navigation>
    <mat-sidenav-container autosize>
      <mat-sidenav #sidenav
                   opened="false"
                   disableClose="true"
                   mode="side"
                   *ngIf="auth.authenticated()">
        <km-sidenav></km-sidenav>
      </mat-sidenav>
      <div class="km-main"
           fxFlex
           fxLayout="column">
        <div fxFlex>

          <router-outlet></router-outlet>
        </div>
        <km-footer *ngIf="!!settings"
                   [version]="version"
                   [settings]="settings"
                   [customLinks]="customLinks"
                   [authenticated]="auth.authenticated()"></km-footer>
      </div>
    </mat-sidenav-container>
  </div>
</main>
